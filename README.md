# 신한SOL 정산 서비스

> 계좌 to 계좌 직접 정산으로 더치페이의 새로운 기준을 제시하는 신한SOL 통합 간편 정산 서비스

## 🎯 왜 만들었나요?

### 기존 정산 서비스의 Pain Points
- **충전식 중간 플랫폼**: 카카오페이, 토스페이 등은 계좌 ↔ 페이머니 ↔ 계좌 형태로 중간 단계를 거쳐야 함
- **주거래 은행 외 자금 분산**: 자주 사용하지 않는 플랫폼에 돈이 묶여있게 됨
- **거래내역 파편화**: "카카오페이 출금 10,000원" 식으로 표시되어 실제 용도를 파악하기 어려움
- **수동 가계부 입력**: 별도로 가계부에 카테고리를 입력해야 하는 번거로움

### 우리의 해결책
✅ **계좌 to 계좌 직접 송금** - 중간 플랫폼 없이 바로 송금  
✅ **주거래 은행 통합 관리** - 모든 정산 내역을 신한SOL에서 일괄 확인  
✅ **스마트 거래내역** - "조윤서 5,690원 (식비)" 형태로 상세하게 표시  
✅ **자동 가계부 연동** - 송금 완료 후 카테고리 선택으로 즉시 가계부 반영

## 🌟 주요 특징

### 1. 🎯 똑똑한 정산 요청
- **SOL 사용자 자동 감지**: 연락처에서 SOL 사용자와 일반 사용자를 자동으로 구분
- **맞춤형 전송**: SOL 사용자에게는 푸시 알림, 일반 사용자에게는 SMS 링크 전송
- **1/N 자동 계산**: 총 금액 입력하면 인원수에 맞춰 자동으로 개인 부담금 계산

### 2. 📱 원클릭 정산 (정산 받는 사람)
```
정산 요청 수신 → 링크/알림 클릭 → 은행앱 선택 → 금액 자동입력 → 송금 완료
```
- **딥링크 연동**: 송금 금액과 받는 사람 정보가 자동으로 입력됨
- **다양한 은행 지원**: 토스, 카카오뱅크, KB, 하나, 우리, 농협 등 주요 은행 연동
- **SOL 우대**: SOL 사용자는 푸시 알림으로 더욱 간편하게

### 3. 📊 스마트 가계부 연동
- **카테고리 자동 분류**: 송금 완료 후 식비, 교통비, 쇼핑 등 카테고리 선택
- **명확한 거래내역**: "조윤서 25,000원 (식비)" 형태로 누구에게, 무엇 때문에 송금했는지 명확히 표시
- **주거래 은행 통합 관리**: 신한SOL에서 모든 정산 내역을 한 번에 확인

### 4. 🔐 금융 보안 기준
- **신한은행 보안 인프라**: 기존 신한SOL의 보안 시스템 활용
- **실제 계좌 연동**: 가상 계좌나 중간 플랫폼 없이 실제 은행 계좌 간 직접 송금

## 👥 사용자별 시나리오

### 1️⃣ 정산 요청자 (SOL 사용자)
> 신한SOL 앱에서 정산 요청하는 사람

**플로우:**
```
신한SOL 메인 → 정산하기 → 연락처 선택 → 금액 입력 → 요청 전송
```

**혜택:**
- 연락처에서 바로 친구 선택 가능
- SOL 사용자 자동 감지로 최적화된 전송
- 1/N 자동 계산으로 개인 부담금 즉시 확인

### 2️⃣ 정산 대상자 - 타행 사용자
> 정산 요청을 받은 다른 은행 사용자

**플로우:**
```
SMS 수신 → 링크 클릭 → 은행앱 선택 → 자동 금액 입력 → 송금 완료
```

**혜택:**
- SOL 앱 설치 불필요
- 본인이 사용하는 은행앱에서 바로 송금
- 정산 금액이 자동으로 입력되어 편리함

### 3️⃣ 정산 대상자 - SOL 사용자
> 정산 요청을 받은 SOL 사용자

**플로우:**
```
푸시 알림 수신 → 알림 탭 → SOL에서 자동 송금 화면 → 송금 완료 → 카테고리 선택
```

**혜택:**
- 푸시 알림으로 즉시 확인
- SOL 앱에서 바로 송금 (타행 수수료 없음)
- 송금 후 카테고리 선택으로 자동 가계부 입력
- 거래내역에 "조윤서 25,000원 (식비)" 형태로 상세 표시

## 🛠 사용한 오픈소스

### Core iOS Frameworks
- **Swift** - iOS 네이티브 개발
- **UIKit** - UI 프레임워크  
- **SwiftUI** - 모던 UI 구현
- **Contacts Framework** - 연락처 접근
- **MessageUI Framework** - SMS 발송
- **UserNotifications** - 푸시 알림

### Third-party Libraries
- **URLNavigator** - URL 기반 화면 라우팅
- **SwiftMessages** - 앱 내 알림 UI
- **SnapKit** - Auto Layout 라이브러리
- **Then** - Swift 코드 간소화
- **SwiftyUserDefaults** - 사용자 설정 및 계좌 정보 저장

### Web Technologies (미설치자용 웹페이지)
- **HTML5/CSS3/JavaScript** - 웹 인터페이스
- **Responsive Design** - 모바일 최적화

## 🚀 확장성

### 1. 기술적 확장성
```swift
// 새로운 은행 추가 예시
enum SupportedBank: CaseIterable {
    case shinhan, kakao, toss, kb, hana, woori, nh
    case newBank // 새 은행 쉽게 추가 가능
}
```

### 2. 서비스 확장 가능성
- **🏪 가맹점 연동**: 식당에서 바로 더치페이 요청
- **📅 정기 정산**: 월세, 관리비 등 정기적인 정산 자동화
- **💼 기업용 정산**: 회사 법인카드 정산, 출장비 정산 등
- **🌏 해외 송금**: 해외 여행 시 현지 통화 정산

### 3. 플랫폼 확장
- **Android 버전**: 안드로이드 신한SOL 앱 연동
- **웹 버전**: PC에서도 정산 요청 가능
- **API 제공**: 다른 서비스에서 정산 기능 활용

### 4. 금융 서비스 확장
- **투자 모임 정산**: 투자 수익/손실 정산
- **적금 모임**: 계모임, 적금 모임 관리
- **대출 상환**: 친구 간 돈 빌려준 것 상환 관리

## 📁 프로젝트 구조

```
SOL-settle/
├── ios/                          # iOS 앱
│   ├── Models/                   # 데이터 모델
│   │   ├── Contact.swift
│   │   └── Transaction.swift
│   ├── Views/                    # SwiftUI 뷰
│   │   ├── MainView.swift
│   │   ├── SettlementView.swift
│   │   └── TransferView.swift
│   ├── Services/                 # 비즈니스 로직
│   │   ├── ContactService.swift
│   │   └── MessageService.swift
│   └── Resources/
├── web/                          # 웹 버전
│   ├── index.html
│   ├── style.css
│   └── script.js
└── README.md
```

## 🎬 데모 영상

### 📱 정산 요청자 시연
> 신한SOL에서 친구들에게 정산 요청하는 과정

### 📨 타행 사용자 시연  
> SMS 링크를 통해 타행 앱에서 송금하는 과정

### 🔔 SOL 사용자 시연
> 푸시 알림을 받고 SOL에서 바로 송금하는 과정

## 🚀 설치 및 실행

### 요구 사항
- iOS 16.2+
- Xcode 15.4+
- Swift 5.10+

### 설치 방법
```bash
git clone https://github.com/yoonseocho/SOL-settle.git
cd SOL-settle
pod install
open SOL-settle.xcworkspace
```

### URL Scheme 설정
```xml
<key>CFBundleURLTypes</key>
<array>
    <dict>
        <key>CFBundleURLName</key>
        <string>com.shinhan.sol.settlement</string>
        <key>CFBundleURLSchemes</key>
        <array>
            <string>solsettle</string>
        </array>
    </dict>
</array>
```

---

⚠️ **주의사항**: 이 프로젝트는 신한SOL 서비스의 시뮬레이션 버전이며, 실제 금융 거래는 이루어지지 않습니다.

💡 **문의사항**: 프로젝트에 대한 문의나 제안은 Issues를 통해 남겨주세요!
